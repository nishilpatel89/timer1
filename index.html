<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Do The Thing | The Honest Productivity Timer</title>
    <meta name="description" content="A simple, no-nonsense chess clock for work. Track 'Doing the Thing' vs 'Not Doing the Thing'. The best focus timer for ADHD and deep work.">
    <meta name="keywords" content="productivity timer, chess clock for work, adhd timer, deep work tracker, focus tool, simple time tracker">
    <meta name="author" content="Do The Thing">
    
    <meta property="og:title" content="Do The Thing - Stop Lying to Yourself">
    <meta property="og:description" content="Track your actual efficiency. A brutal reality check for your workday.">
    <meta property="og:url" content="https://dothething.io">
    <meta property="og:type" content="website">
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>âš¡</text></svg>">

    <style>
        :root {
            --bg-color: #f4f4f9;
            --text-color: #333;
            --work-color: #2ecc71;
            --break-color: #e67e22;
            --danger-color: #e74c3c;
            --inactive-opacity: 0.25;
            --card-bg: #ffffff;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            /* Changed from fixed height to min-height to allow scrolling for SEO text */
            min-height: 100vh; 
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Semantic Main Container */
        main {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            width: 100%;
        }

        .container {
            background: var(--card-bg);
            padding: clamp(1rem, 3vw, 3rem); 
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.05);
            text-align: center;
            width: 90%;
            max-width: 600px;
            position: relative;
            margin: 2rem 0;
        }

        /* SEO Content Section (Below the fold) */
        .seo-content {
            max-width: 700px;
            padding: 2rem;
            color: #666;
            line-height: 1.6;
            margin-bottom: 3rem;
        }
        .seo-content h2 { color: #333; font-size: 1.2rem; margin-top: 2rem; }
        .seo-content p { font-size: 0.95rem; }

        h1 {
            font-weight: 800;
            font-size: clamp(1rem, 4vw, 1.8rem);
            margin: 0 0 clamp(1rem, 3vw, 2rem) 0;
            letter-spacing: -0.5px;
            text-transform: uppercase;
            color: #333;
        }

        /* Help Button */
        .help-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: #eee;
            color: #666;
            border: none;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            padding: 0; 
        }
        .help-btn:hover { background: #ddd; }

        /* Timer Display Area */
        .timers-wrapper {
            display: flex;
            flex-direction: column;
            gap: clamp(0.5rem, 2vh, 1.5rem);
            margin-bottom: clamp(1rem, 3vh, 1.5rem);
        }

        .timer-block {
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            opacity: var(--inactive-opacity);
            transform: scale(0.98);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 1rem;
            border-radius: 12px;
        }

        .timer-block.active {
            opacity: 1;
            transform: scale(1);
            background-color: rgba(0,0,0,0.03);
        }

        .timer-label {
            font-size: clamp(0.7rem, 2.5vw, 1rem);
            text-transform: uppercase;
            font-weight: 600;
            letter-spacing: 1px;
            text-align: left;
            flex: 1;
        }

        .time-display {
            font-family: 'Courier New', Courier, monospace;
            font-size: clamp(1.8rem, 11vw, 4.5rem); 
            line-height: 1;
            font-weight: 700;
            font-variant-numeric: tabular-nums;
            text-align: right;
        }

        /* Stats */
        .stats-block {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: clamp(1rem, 3vh, 1.5rem);
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 12px;
            gap: 10px;
        }

        .stats-label { font-size: 0.9rem; font-weight: 600; color: #666; text-transform: uppercase; letter-spacing: 1px; }
        .stats-value { font-size: 1.5rem; font-weight: 800; font-family: 'Courier New', monospace; display: flex; align-items: center; gap: 8px; }
        .status-dot { width: 12px; height: 12px; border-radius: 50%; background-color: #ccc; transition: background-color 0.3s; }

        /* Color States */
        .timer-block#work-block.active .time-display { color: var(--work-color); }
        .timer-block#work-block.active .timer-label { color: var(--work-color); }
        .timer-block#break-block.active .time-display { color: var(--break-color); }
        .timer-block#break-block.active .timer-label { color: var(--break-color); }

        /* Controls */
        .controls { display: flex; flex-direction: column; gap: 10px; width: 100%; }
        
        button.main-action {
            border: none; padding: clamp(0.8rem, 2vh, 1.2rem); border-radius: 10px;
            font-size: clamp(0.9rem, 3vw, 1.1rem); cursor: pointer; transition: filter 0.2s, transform 0.1s;
            font-weight: 600; width: 100%; font-family: 'Inter', sans-serif;
        }
        button.main-action:active { transform: translateY(2px); }

        #switch-btn { color: white; box-shadow: 0 4px 15px rgba(0,0,0,0.15); font-size: clamp(1rem, 3.5vw, 1.3rem); }
        
        .secondary-controls { display: flex; gap: 10px; }
        .secondary-btn {
            flex: 1; background-color: #ececec; color: #666; border: none;
            padding: clamp(0.8rem, 2vh, 1.2rem); border-radius: 10px;
            font-size: clamp(0.9rem, 3vw, 1.1rem); cursor: pointer; font-weight: 600;
        }
        .secondary-btn:hover { background-color: #dedede; }

        /* Overlays */
        .overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255,255,255,0.98); display: flex; align-items: center; justify-content: center;
            flex-direction: column; z-index: 100; padding: 2rem; box-sizing: border-box; text-align: center;
        }
        
        #start-btn {
            background-color: var(--work-color); color: white; width: auto; padding: 1rem 3rem;
            font-size: 1.5rem; box-shadow: 0 10px 20px rgba(46, 204, 113, 0.3);
            border-radius: 12px; border: none; cursor: pointer; font-weight: bold;
        }

        .help-content h2 { margin-top: 0; color: #333; }
        .help-content p { color: #666; line-height: 1.5; margin-bottom: 1.5rem; }
        .help-content ul { text-align: left; color: #555; margin-bottom: 2rem; padding-left: 1.5rem; }
        #close-help-btn { background-color: #333; color: white; padding: 0.8rem 2rem; border-radius: 8px; border: none; font-weight: 600; cursor: pointer; }

        .hidden { display: none !important; }

        .paused-badge {
            margin-top: 10px; color: #e74c3c; font-weight: 800; font-size: 0.75rem;
            letter-spacing: 2px; text-transform: uppercase; opacity: 0; height: 1rem; transition: opacity 0.3s;
        }
        .paused-badge.visible { opacity: 1; }

    </style>
</head>
<body>

    <main>
        <div class="container">
            <button id="help-toggle" class="help-btn" aria-label="Help and Instructions">?</button>

            <div id="help-screen" class="overlay hidden">
                <div class="help-content">
                    <h2>The Philosophy</h2>
                    <p>This isn't just a timer. It's a reality check.</p>
                    <ul>
                        <li><strong>Doing the Thing:</strong> Deep work. Focus. Execution.</li>
                        <li><strong>Not Doing the Thing:</strong> Phone, email, bathroom, staring at the wall.</li>
                    </ul>
                    <p>Be brutally honest. Switch the clock the second you lose focus.</p>
                    <p><strong>Goal: Keep Efficiency above 75%.</strong></p>
                    <button id="close-help-btn">Got it</button>
                </div>
            </div>

            <div id="start-screen" class="overlay">
                <h1>Do The Thing</h1>
                <button id="start-btn">Start Day</button>
            </div>

            <h1>Do The Thing</h1>

            <div class="timers-wrapper">
                <div id="work-block" class="timer-block active">
                    <div class="timer-label">Doing the Thing</div>
                    <div class="time-display" id="work-time">00:00:00</div>
                </div>

                <div id="break-block" class="timer-block">
                    <div class="timer-label">Not Doing the Thing</div>
                    <div class="time-display" id="break-time">00:00:00</div>
                </div>
            </div>

            <div class="stats-block">
                <span class="stats-label">Efficiency:</span>
                <div class="stats-value">
                    <div id="status-dot" class="status-dot"></div>
                    <span id="efficiency-display">100%</span>
                </div>
            </div>

            <div class="controls">
                <button id="switch-btn" class="main-action">Switch to Not Doing the Thing</button>
                
                <div class="secondary-controls">
                    <button class="secondary-btn" id="pause-btn">Pause</button>
                    <button class="secondary-btn" id="reset-btn">Reset</button>
                </div>
            </div>
            
            <div class="paused-badge" id="paused-badge">Timer Paused</div>
        </div>

        <section class="seo-content">
            <h2>The Honest Productivity Timer for Deep Work</h2>
            <p>
                Most productivity timers are too complicated. <strong>Do The Thing</strong> is a simple 
                productivity tracker that acts like a chess clock for your workday. 
                It forces you to be honest about how you spend your time.
            </p>
            <p>
                Whether you are managing ADHD, trying to improve your focus, or just want to 
                audit your daily efficiency, this tool gives you immediate feedback. 
                Simply click the switch when you stop "Doing the Thing" (working) and click it 
                back when you return to focus.
            </p>
        </section>
    </main>

    <script>
        // State Variables
        let workSeconds = 0;
        let breakSeconds = 0;
        let isWorking = true; 
        let isPaused = false;
        let intervalId = null;
        let hasStarted = false;

        // Auto-Save Logic
        const savedDate = localStorage.getItem('rc_date');
        const today = new Date().toDateString();

        if (savedDate === today) {
            if(localStorage.getItem('rc_work')) workSeconds = parseInt(localStorage.getItem('rc_work'));
            if(localStorage.getItem('rc_break')) breakSeconds = parseInt(localStorage.getItem('rc_break'));
        } else {
            localStorage.clear();
            localStorage.setItem('rc_date', today);
        }

        // DOM Elements
        const workDisplay = document.getElementById('work-time');
        const breakDisplay = document.getElementById('break-time');
        const efficiencyDisplay = document.getElementById('efficiency-display');
        const statusDot = document.getElementById('status-dot');
        const workBlock = document.getElementById('work-block');
        const breakBlock = document.getElementById('break-block');
        const switchBtn = document.getElementById('switch-btn');
        const pauseBtn = document.getElementById('pause-btn');
        const startScreen = document.getElementById('start-screen');
        const helpScreen = document.getElementById('help-screen');
        const pausedBadge = document.getElementById('paused-badge');
        const resetBtn = document.getElementById('reset-btn');

        // Config
        const EFFICIENCY_GOAL = 75;

        // Helpers
        function formatTime(totalSeconds) {
            const hours = Math.floor(totalSeconds / 3600);
            const minutes = Math.floor((totalSeconds % 3600) / 60);
            const seconds = totalSeconds % 60;
            return [hours, minutes, seconds]
                .map(v => v < 10 ? "0" + v : v)
                .join(":");
        }

        function saveData() {
            localStorage.setItem('rc_work', workSeconds);
            localStorage.setItem('rc_break', breakSeconds);
            localStorage.setItem('rc_date', new Date().toDateString());
        }

        function updateDisplay() {
            workDisplay.textContent = formatTime(workSeconds);
            breakDisplay.textContent = formatTime(breakSeconds);
            updateEfficiency();
        }

        function updateEfficiency() {
            const total = workSeconds + breakSeconds;
            let percentage = 100;
            if (total > 0) {
                percentage = Math.round((workSeconds / total) * 100);
            }
            efficiencyDisplay.textContent = percentage + "%";

            if (percentage >= EFFICIENCY_GOAL) {
                statusDot.style.backgroundColor = "var(--work-color)";
            } else {
                statusDot.style.backgroundColor = "var(--danger-color)";
            }
        }

        function tick() {
            if (!isPaused && hasStarted) {
                if (isWorking) {
                    workSeconds++;
                } else {
                    breakSeconds++;
                }
                updateDisplay();
                saveData();
            }
        }

        function startTimer() {
            if (intervalId) clearInterval(intervalId);
            intervalId = setInterval(tick, 1000);
        }

        // Event Listeners
        document.getElementById('start-btn').addEventListener('click', () => {
            hasStarted = true;
            startScreen.classList.add('hidden');
            updateDisplay();
            startTimer();
            updateVisuals();
            updateEfficiency();
        });

        document.getElementById('help-toggle').addEventListener('click', () => {
            helpScreen.classList.remove('hidden');
        });

        document.getElementById('close-help-btn').addEventListener('click', () => {
            helpScreen.classList.add('hidden');
        });

        switchBtn.addEventListener('click', () => {
            if(!hasStarted) return;
            if(isPaused) {
                isPaused = false;
                startTimer();
                pauseBtn.textContent = "Pause";
                pausedBadge.classList.remove('visible');
            }
            isWorking = !isWorking; 
            updateVisuals();
        });

        pauseBtn.addEventListener('click', () => {
            if(!hasStarted) return;
            isPaused = !isPaused;
            if (isPaused) {
                pauseBtn.textContent = "Resume";
                pausedBadge.classList.add('visible');
                clearInterval(intervalId);
                saveData();
            } else {
                pauseBtn.textContent = "Pause";
                pausedBadge.classList.remove('visible');
                startTimer();
            }
        });

        resetBtn.addEventListener('click', () => {
            if(confirm("Reset counters to zero?")) {
                workSeconds = 0;
                breakSeconds = 0;
                isPaused = false;
                hasStarted = false;
                isWorking = true;
                clearInterval(intervalId);
                localStorage.removeItem('rc_work');
                localStorage.removeItem('rc_break');
                updateDisplay();
                startScreen.classList.remove('hidden');
                pausedBadge.classList.remove('visible');
                pauseBtn.textContent = "Pause";
                updateVisuals();
            }
        });

        function updateVisuals() {
            if (isWorking) {
                workBlock.classList.add('active');
                breakBlock.classList.remove('active');
                switchBtn.textContent = "Switch to Not Doing the Thing";
                switchBtn.style.backgroundColor = "#e67e22";
            } else {
                breakBlock.classList.add('active');
                workBlock.classList.remove('active');
                switchBtn.textContent = "Switch to Doing the Thing";
                switchBtn.style.backgroundColor = "#2ecc71";
            }
        }
        
        updateDisplay();
    </script>
</body>
</html>
